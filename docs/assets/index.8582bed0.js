var de=Object.defineProperty,ce=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var X=(e,t,n)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&X(e,n,t[n]);if(K)for(var n of K(t))ge.call(t,n)&&X(e,n,t[n]);return e},x=(e,t)=>ce(e,le(t));import{r as j,o as p,c as A,a as me,b as Z,u as fe,d as y,e as c,f as u,t as w,n as L,g as S,F as I,h as k,p as he,i as ye,j as q,w as ve,v as xe,k as _,l as b,m as g,q as $,s as _e,x as Y,y as M,z,A as be,B as Ae,C as F,D as Ie,E as $e,G as Ce,H as we,I as Se,T as Me,J as De,K as Ne,L as ke,M as qe,N as Fe}from"./vendor.e88bf78c.js";const Be=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}};Be();var E=(e,t)=>{for(const[n,i]of t)e[n]=i;return e};const Le={};function Ee(e,t){const n=j("router-view");return p(),A(n)}var Te=E(Le,[["render",Ee]]);function Q(e){return e===null||typeof e!="object"}function ee(e,t,n){if(!n.length)return;Array.isArray(t)||(t=W(n.length));const i=n[0];n.length===1?t.splice(i,0,e):(Array.isArray(t[i])||(t[i]=W(n.length-1)),ee(e,t[i],n.slice(1)))}function W(e){let t=[];for(let n=1;n<e;n++)t=[t];return t}function O(e){return Array.isArray(e)&&e.every(t=>!Array.isArray(t))}function te(e,t){return t<2?O(e):Array.isArray(e)&&e.every(n=>te(n,t-1))}function ne(e){return O(e)&&e.length===2}function Oe(e){const t=[];return e.forEach(n=>{n.forEach((i,r)=>{t[r]?t[r].push(i):t[r]=[i]})}),t}function V(e,t){var n;return x(v({},t(e)),{nodes:(n=e.nodes)==null?void 0:n.map(i=>V(i,t))})}function je(e){const t=ze(e.resData);return R(e.id,e.resData,"root",[],Array.isArray(e.resData),t)}function R(e,t,n,i,r,o){const s=i.join(".");if(Q(t)){const d=o[s];return{id:{apiId:e,path:s},name:n,isArray:r,value:d}}else{if(Array.isArray(t))return t.length?R(e,t[0],n,i,!0,o):{id:{apiId:e,path:s},name:n,isArray:!0};{const d=Object.entries(t).map(([l,h])=>R(e,h,l,[...i,l],!1,o));return{id:{apiId:e,path:s},name:n,isArray:r,nodes:d}}}}function ze(e){const t={};return U(e,t,[],[]),t}function U(e,t,n,i){var r;if(Q(e)){const o=n.join(".");if(i.length){const s=(r=t[o])!=null?r:W(i.length);ee(e,s,i),t[o]=s}else t[o]=e}else Array.isArray(e)?e.forEach((o,s)=>U(o,t,n,[...i,s])):Object.entries(e).forEach(([o,s])=>{U(s,t,[...n,o],i)})}function We(e){return x(v({},e),{loading:!0,error:void 0,structure:void 0,resData:void 0})}function Ve(e){return btoa(JSON.stringify(e)).replace("+",".").replace("/","_").replace("=","-")}function Re(e){const t=e.replace(".","+").replace("_","/").replace("-","=");return JSON.parse(atob(t))}const ie=Symbol();function C(){return fe(ie)}const re=me({state:{apiIdSeq:0,apis:[],compIdSeq:0,components:[],mappings:[],draggedComponent:void 0,draggedApiField:void 0},getters:{getMappings:e=>t=>e.mappings.filter(n=>n.id.compId===t),getBase64State:e=>Ve(x(v({},e),{apis:e.apis.map(t=>We(t)),draggedComponent:void 0,draggedApiField:void 0}))},mutations:{incrementComponentId(e){e.compIdSeq++},incrementApiId(e){e.apiIdSeq++},apiDataLoading(e,{id:t,url:n}){e.apis.push({id:t,url:n,loading:!0})},apiDataLoaded(e,{id:t,res:n}){const i=e.apis.findIndex(o=>o.id===t);let r=e.apis[i];r=x(v({},r),{loading:!1,resData:n.data}),r.structure=je(r),e.apis[i]=r},apiDataError(e,{id:t,error:n}){const i=e.apis.findIndex(o=>o.id===t),r=e.apis[i];e.apis[i]=x(v({},r),{loading:!1,error:n.toString()})},deleteComponent(e,t){const n=e.components.findIndex(i=>i.id===t);e.components.splice(n,1)},deleteApi(e,t){const n=e.apis.findIndex(i=>i.id===t);e.apis.splice(n,1)},deleteMappingsWithComp(e,t){const n=e.mappings.findIndex(i=>i.id.compId===t);e.mappings.splice(n,1)},deleteMappingsWithApi(e,t){const n=e.mappings.findIndex(i=>i.apiNodeId.apiId===t);e.mappings.splice(n,1)},dragComponent(e,t){e.draggedComponent=t},dragApiField(e,t){e.draggedApiField=t},dropComponent(e,t){!e.draggedComponent||e.components.splice(t,0,{id:e.compIdSeq,template:e.draggedComponent})},dropApiField(e,{compId:t,boxId:n}){if(!e.draggedApiField)return;const i=e.mappings.findIndex(r=>r.id.compId===t&&r.id.boxId===n);if(i>-1){const r=e.mappings[i];e.mappings[i]=x(v({},r),{apiNodeId:v({},e.draggedApiField.id),value:e.draggedApiField.value})}else e.mappings.push({id:{compId:t,boxId:n},apiNodeId:v({},e.draggedApiField.id),value:e.draggedApiField.value})},dragComponentEnd(e){e.draggedComponent=void 0},dragApiFieldEnd(e){e.draggedApiField=void 0},highlightApiNodes(e,{compId:t,boxId:n}){var r;const i=(r=e.mappings.find(o=>o.id.compId===t&&o.id.boxId===n))==null?void 0:r.apiNodeId;if(i){const o=e.apis.findIndex(d=>d.id===i.apiId),s=e.apis[o];s.structure&&(e.apis[o]=x(v({},s),{structure:V(s.structure,d=>d.id.path===i.path?x(v({},d),{highlighted:!0}):d)}))}},highlightMappingBoxes(e,{apiId:t,path:n}){e.mappings=e.mappings.map(i=>i.apiNodeId.apiId===t&&i.apiNodeId.path===n?x(v({},i),{highlighted:!0}):i)},disableHighlightApiNodes(e){e.apis=e.apis.map(t=>t.structure?x(v({},t),{structure:V(t.structure,n=>x(v({},n),{highlighted:!1}))}):t)},disableHighlightMappingBoxes(e){e.mappings=e.mappings.map(t=>x(v({},t),{highlighted:!1}))},loadBase64State(e,t){const n=Re(t);e.apiIdSeq=n.apiIdSeq,e.apis=n.apis,e.compIdSeq=n.compIdSeq,e.components=n.components,e.mappings=n.mappings,e.draggedComponent=void 0,e.draggedApiField=void 0}},actions:{async addApi({commit:e,state:t},n){e("incrementApiId");const i=t.apiIdSeq;e("apiDataLoading",{id:i,url:n});try{const r=await Z.get(n);e("apiDataLoaded",{id:i,res:r})}catch(r){e("apiDataError",{id:i,error:r})}},deleteComponent({commit:e},t){e("deleteMappingsWithComp",t),e("deleteComponent",t)},deleteApi({commit:e},t){e("deleteMappingsWithApi",t),e("deleteApi",t)},dragComponent({commit:e},t){e("dragComponent",t)},dragApiField({commit:e},t){e("dragApiField",t)},dragEnd({commit:e}){e("dragComponentEnd"),e("dragApiFieldEnd")},dropComponent({commit:e},t){e("incrementComponentId"),e("dropComponent",t)},dropApiField({commit:e},t){e("dropApiField",t)},mappingBoxMouseEnter({commit:e},t){e("highlightApiNodes",t)},mappingBoxMouseLeave({commit:e}){e("disableHighlightApiNodes")},apiFieldMouseEnter({commit:e},t){e("highlightMappingBoxes",t)},apiFieldMouseLeave({commit:e}){e("disableHighlightMappingBoxes")},loadBase64State({commit:e,dispatch:t},n){e("loadBase64State",n),t("hydrateApis")},async hydrateApis({commit:e,state:t}){await Promise.all(t.apis.map(async({id:n,url:i})=>{try{const r=await Z.get(i);e("apiDataLoaded",{id:n,res:r})}catch(r){e("apiDataError",{id:n,error:r})}}))}}});const oe=e=>(he("data-v-2bee9a10"),e=e(),ye(),e),Ue={class:"ml-5"},He=["draggable"],Pe={key:0},Ge={key:0},Je=oe(()=>u("div",{class:"ml-1"},"{",-1)),Ke=oe(()=>u("div",{class:"ml-1"},"}",-1)),Xe={key:1},Ze=y({props:{apiNode:{type:null,required:!0}},setup(e){const t=e,n=C();function i(){n.dispatch("dragApiField",t.apiNode)}function r(){n.dispatch("dragEnd")}function o(){}function s(){}return(d,l)=>{var m;const h=j("ApiField",!0);return p(),c("div",Ue,[u("div",{class:L(["my-1 p-1 rounded api-node",{"bg-gray-800 text-white":!!e.apiNode.value,"bg-gray-700":!e.apiNode.value,"api-node-highlight":e.apiNode.highlighted}]),draggable:!!e.apiNode.value,onDragstart:l[0]||(l[0]=a=>i()),onDragend:l[1]||(l[1]=a=>r()),onMouseenter:l[2]||(l[2]=a=>o()),onMouseleave:l[3]||(l[3]=a=>s())},w(e.apiNode.name),43,He),((m=e.apiNode.nodes)==null?void 0:m.length)?(p(),c("div",Pe,[e.apiNode.isArray?(p(),c("div",Ge,"[")):S("",!0),Je,(p(!0),c(I,null,k(e.apiNode.nodes,a=>(p(),A(h,{apiNode:a,key:a.name},null,8,["apiNode"]))),128)),Ke,e.apiNode.isArray?(p(),c("div",Xe,"]")):S("",!0)])):S("",!0)])}}});var Ye=E(Ze,[["__scopeId","data-v-2bee9a10"]]);const Qe={class:"p-2 bg-gray-600 rounded my-2"},et=["title"],tt={key:0},nt={key:1},it={key:2,class:"select-none font-bold text-xs font-mono text-gray-300"},rt={key:0},ot=u("div",{class:"ml-1"},"{",-1),st=u("div",{class:"ml-1"},"}",-1),at={key:1},pt={class:"flex justify-end"},dt=y({props:{api:{type:null,required:!0}},setup(e){const t=e,n=C();function i(){n.dispatch("deleteApi",t.api.id)}return(r,o)=>(p(),c("div",Qe,[u("div",{class:"font-mono text-xs bg-gray-700 rounded p-1 whitespace-nowrap overflow-hidden",title:e.api.url},w(e.api.url),9,et),e.api.loading?(p(),c("div",tt,"loading ...")):e.api.error?(p(),c("div",nt,w(e.api.error),1)):(p(),c("div",it,[e.api.structure.isArray?(p(),c("div",rt,"[")):S("",!0),ot,(p(!0),c(I,null,k(e.api.structure.nodes,s=>(p(),A(Ye,{"api-node":s,key:s.name},null,8,["api-node"]))),128)),st,e.api.structure.isArray?(p(),c("div",at,"]")):S("",!0)])),u("div",pt,[u("button",{onClick:o[0]||(o[0]=s=>i()),class:"p-1 rounded bg-pink-900 text-pink-200 hover:bg-pink-800 hover:text-pink-100 transition-colors"}," delete ")])]))}}),ct={class:"flex"},lt={class:"flex-grow"},ut=y({setup(e){const t=q(""),n=C();function i(){n.dispatch("addApi",t.value),t.value=""}return(r,o)=>(p(),c("div",ct,[u("div",lt,[ve(u("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>t.value=s),class:"bg-gray-700 border-2 border-r-0 border-green-700 focus:bg-gray-600 focus:text-white p-2 focus:outline-none w-full text-xs font-mono rounded-tl rounded-bl",type:"text"},null,512),[[xe,t.value]])]),u("button",{onClick:o[1]||(o[1]=s=>i()),class:"px-2 font-bold bg-green-900 border-2 border-green-700 text-green-200 rounded-tr rounded-br text-xl font-bold"}," + ")]))}}),gt={class:"h-screen flex flex-col"},mt={class:"flex-grow overflow-auto p-2 bg-gray-800"},ft=y({setup(e){const t=C(),n=_(()=>t.state.apis);return(i,r)=>(p(),c("div",gt,[b(ut,{class:"w-100 p-2 bg-gray-800"}),u("div",mt,[(p(!0),c(I,null,k(g(n),o=>(p(),A(dt,{key:o.id,api:o},null,8,["api"]))),128))])]))}});function H(e,t){return t.find(n=>e.compId===n.id.compId&&e.boxId===n.id.boxId)}function ht(e){return e.length?Math.max(...e.map(t=>t.id.boxId)):1}const yt=y({props:{mappingId:{type:null,required:!0},mappings:{type:Array,required:!0},showApiPath:{type:Boolean,required:!1}},setup(e){const t=e,n=C(),i=_(()=>H(t.mappingId,t.mappings)),r=_(()=>n.state.draggedApiField),o=q(!1);function s(){n.dispatch("dropApiField",t.mappingId)}function d(){r||n.dispatch("mappingBoxMouseEnter",t.mappingId)}function l(){r||n.dispatch("mappingBoxMouseLeave")}return(h,m)=>{var a,f,N,B,J;return p(),c("div",{onDrop:m[0]||(m[0]=T=>s()),onDragover:m[1]||(m[1]=Y(()=>{},["prevent"])),onDragenter:m[2]||(m[2]=T=>o.value=!0),onDragleave:m[3]||(m[3]=T=>o.value=!1),onMouseenter:m[4]||(m[4]=T=>d()),onMouseleave:m[5]||(m[5]=T=>l()),class:L(["mapping-box rounded",{"mapping-box-highlight":g(r)||((a=g(i))==null?void 0:a.highlighted),"mapping-box-dragover":g(r)&&o.value}])},[e.showApiPath&&((f=g(i))==null?void 0:f.apiNodeId.path)?(p(),c(I,{key:0},[$(w((N=g(i))==null?void 0:N.apiNodeId.path),1)],64)):((B=g(i))==null?void 0:B.value)?(p(),c(I,{key:1},[$(w((J=g(i))==null?void 0:J.value),1)],64)):_e(h.$slots,"default",{key:2},void 0,!0)],34)}}});var D=E(yt,[["__scopeId","data-v-6104ff64"]]);const vt={class:"text-3xl mb-5"},xt=$(" Title "),_t=y({props:{compId:{type:Number,required:!0},mappings:{type:Array,required:!0}},setup(e){return(t,n)=>(p(),c("h1",vt,[b(D,{"mapping-id":{compId:e.compId,boxId:1},mappings:e.mappings},{default:M(()=>[xt]),_:1},8,["mapping-id","mappings"])]))}}),bt={class:"mb-5"},At=y({props:{compId:{type:Number,required:!0},mappings:{type:Array,required:!0}},setup(e){const t="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce ut orci sem. Curabitur non varius lorem, non tincidunt nibh. Suspendisse et ultricies est, a vestibulum turpis. Cras tincidunt tempor faucibus. Nunc tempor sed mauris vitae dignissim. Phasellus pellentesque pulvinar volutpat. Donec rutrum vestibulum orci vitae dictum. Sed ex felis, fringilla at imperdiet dapibus, egestas lobortis felis. Morbi in facilisis mauris, ac accumsan ipsum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Mauris efficitur, velit molestie faucibus pulvinar, lorem tortor cursus mauris, ac porttitor erat massa a magna. Cras varius purus id enim dignissim viverra. Pellentesque eu risus nunc. Mauris nec ex sit amet ante rhoncus interdum. Sed sem enim, vehicula ac feugiat in, imperdiet at tellus.";return(n,i)=>(p(),c("p",bt,[b(D,{"mapping-id":{compId:e.compId,boxId:1},mappings:e.mappings},{default:M(()=>[$(w(t))]),_:1},8,["mapping-id","mappings"])]))}}),It={class:"bg-gray-500 rounded p-2 my-2"},$t={class:"text-3xl"},Ct=$(" Title "),wt={class:"text-xl mb-1"},St=$(" Subtitle "),Mt={class:"mb-1"},Dt=$(" Content "),Nt={class:"text-xs"},kt=$(" Footer "),qt=y({props:{compId:{type:Number,required:!0},mappings:{type:Array,required:!0}},setup(e){return(t,n)=>(p(),c("div",It,[u("h1",$t,[b(D,{"mapping-id":{compId:e.compId,boxId:1},mappings:e.mappings},{default:M(()=>[Ct]),_:1},8,["mapping-id","mappings"])]),u("h2",wt,[b(D,{"mapping-id":{compId:e.compId,boxId:2},mappings:e.mappings},{default:M(()=>[St]),_:1},8,["mapping-id","mappings"])]),u("p",Mt,[b(D,{"mapping-id":{compId:e.compId,boxId:3},mappings:e.mappings},{default:M(()=>[Dt]),_:1},8,["mapping-id","mappings"])]),u("div",Nt,[b(D,{"mapping-id":{compId:e.compId,boxId:4},mappings:e.mappings},{default:M(()=>[kt]),_:1},8,["mapping-id","mappings"])])]))}}),Ft={class:"flex justify-center pt-10 bg-indigo-900 opacity-80 rounded"},Bt={class:"flex w-3/4"},Lt={class:"flex-1 mx-1"},Et={class:"mb-2 text-xl font-bold text-center"},Tt=$(" drop values "),Ot={class:"flex-1 mx-1"},jt={class:"mb-2 text-xl font-bold text-center"},zt=$(" drop values "),se=y({props:{firstTitle:{type:String,required:!0},secondTitle:{type:String,required:!0},compId:{type:Number,required:!0},mappings:{type:Array,required:!0}},setup(e){const t=e,n=_(()=>ht(t.mappings));return(i,r)=>(p(),c("div",Ft,[u("div",Bt,[u("div",Lt,[u("div",Et,w(e.firstTitle),1),b(D,{"mapping-id":{compId:e.compId,boxId:1},mappings:e.mappings,"show-api-path":!0,class:"p-2 border"},{default:M(()=>[Tt]),_:1},8,["mapping-id","mappings"])]),u("div",Ot,[u("div",jt,w(e.secondTitle),1),(p(!0),c(I,null,k(g(n),o=>(p(),A(D,{"mapping-id":{compId:e.compId,boxId:o+1},mappings:e.mappings,"show-api-path":!0,class:"p-2 border"},{default:M(()=>[zt]),_:2},1032,["mapping-id","mappings"]))),256))])])]))}}),Wt=y({props:{compId:{type:Number,required:!0},mappings:{type:Array,required:!0}},setup(e){const t=e,n=C(),i=_(()=>!!n.state.draggedApiField),r=q();let o;const s=_(()=>{var a;const{compId:d,mappings:l}=t,h=(a=H({compId:d,boxId:1},l))==null?void 0:a.value;return{series:l.filter(f=>f.id.boxId>1).map(f=>({name:f.apiNodeId.path,data:f.value})),chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},theme:{mode:"dark"},xaxis:{categories:h!=null?h:[]}}});return z(()=>{o=new be(r.value,s.value),o.render()}),Ae(s,()=>{o==null||o.updateOptions(s.value)}),(d,l)=>(p(),c("div",null,[u("div",{ref:(h,m)=>{m.chartRef=h,r.value=h},class:"relative z-0 h-[365px]"},null,512),g(i)?(p(),A(se,{key:0,class:"relative z-10 h-[350px] mt-[-365px]","comp-id":e.compId,mappings:e.mappings,"first-title":"X","second-title":"Y"},null,8,["comp-id","mappings"])):S("",!0)]))}}),Vt=y({props:{points:{type:Array,required:!1},tooltipContents:{type:Array,required:!1}},setup(e){const t=e;F.exports.Marker.prototype.options.icon=F.exports.icon({iconRetinaUrl:Ie,iconUrl:$e,shadowUrl:Ce,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});const n=q();let i;z(()=>{i=new F.exports.Map(n.value),i.addLayer(o),i.addLayer(r),r.getLayers().length&&i.fitBounds(r.getBounds())});const r=new F.exports.FeatureGroup,o=new F.exports.TileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'});we(()=>{const{points:d,tooltipContents:l}=t;r.clearLayers(),d&&d.length&&(r.clearLayers(),d.forEach((h,m)=>{const a=new F.exports.Marker(h);(l==null?void 0:l[m])&&a.bindPopup(s(l[m])),r.addLayer(a)}),i==null||i.fitBounds(r.getBounds()))});function s(d){return d.map((l,h)=>h===0?`<div class="font-bold">${l}</div>`:`<div>${l}</div>`).join("")}return(d,l)=>(p(),c("div",{ref:(h,m)=>{m.mapRef=h,n.value=h},class:"rounded"},null,512))}}),Rt=y({props:{compId:{type:Number,required:!0},mappings:{type:Array,required:!0}},setup(e){const t=e,n=_(()=>!!re.state.draggedApiField),i=_(()=>{var o;return(o=H({compId:t.compId,boxId:1},t.mappings))==null?void 0:o.value}),r=_(()=>Oe(t.mappings.filter(o=>o.id.boxId>1).map(o=>o.value)));return(o,s)=>(p(),c(I,null,[b(Vt,{class:"relative z-0 h-[350px]",points:g(i),"tooltip-contents":g(r)},null,8,["points","tooltip-contents"]),!g(i)||!g(i).length||g(n)?(p(),A(se,{key:0,class:"relative z-10 h-[350px] mt-[-350px]","comp-id":e.compId,mappings:e.mappings,"first-title":"Coordinates","second-title":"Tooltip Contents"},null,8,["comp-id","mappings"])):S("",!0)],64))}}),P={"wysi-title":{vueComponent:_t,dataType:"singleValue"},"wysi-paragraph":{vueComponent:At,dataType:"singleValue"},"wysi-card":{vueComponent:qt,dataType:"singleValue"},"wysi-chart":{vueComponent:Wt,dataType:"array"},"wysi-map":{vueComponent:Rt,dataType:"arrayWithCoordinates"}},Ut={class:"h-screen overflow-auto select-none bg-gray-800"},Ht=["onDragstart"],Pt=y({setup(e){const t=C();function n(r){t.dispatch("dragComponent",r)}function i(){t.dispatch("dragEnd")}return(r,o)=>(p(),c("div",Ut,[(p(!0),c(I,null,k(Object.keys(g(P)),s=>(p(),c("div",{class:"m-2 p-2 bg-gray-600 rounded",key:s,draggable:"true",onDragstart:d=>n(s),onDragend:o[0]||(o[0]=d=>i())},w(s),41,Ht))),128))]))}}),Gt=y({props:{comp:{type:null,required:!0},mappings:{type:Array,required:!0}},setup(e){const t=e,n=_(()=>{const a=t.mappings.map(f=>f.value).filter(Array.isArray).map(f=>f.length);return a.length?Math.max(...a):0}),i=_(()=>P[t.comp.template].dataType),r=_(()=>[...Array(n.value).keys()].map(a=>t.mappings.map(f=>x(v({},f),{value:m[i.value](f.value,a)})))),o=_(()=>t.mappings.every(({value:a})=>h[i.value](a)));function s(a,f){return Array.isArray(a)?a[f]:a}function d(a,f){return Array.isArray(a)?Array.isArray(a[f])?a[f]:a:[a]}function l(a,f){if(Array.isArray(a)){const N=a[f];return Array.isArray(N)?ne(N)?a:a[f]:a}else return[a]}const h={singleValue:a=>!Array.isArray(a),array:a=>O(a),arrayWithCoordinates:a=>te(a,2)&&(a==null?void 0:a.every(ne))||O(a)},m={singleValue:s,array:d,arrayWithCoordinates:l};return(a,f)=>{const N=j("wysi-component-renderer",!0);return g(o)?(p(),A(Se(g(P)[e.comp.template].vueComponent),{key:1,compId:e.comp.id,mappings:e.mappings},null,8,["compId","mappings"])):(p(!0),c(I,{key:0},k(g(n),B=>(p(),A(N,{key:B,comp:e.comp,mappings:g(r)[B-1]},null,8,["comp","mappings"]))),128))}}});const Jt=y({props:{compIndex:{type:Number,required:!0}},setup(e){const t=e,n=C(),i=_(()=>n.state.draggedComponent),r=q(!1);function o(){r.value=!1,n.dispatch("dropComponent",t.compIndex)}return(s,d)=>(p(),c("div",{onDrop:d[0]||(d[0]=l=>o()),onDragover:d[1]||(d[1]=Y(()=>{},["prevent"])),onDragenter:d[2]||(d[2]=l=>r.value=!0),onDragleave:d[3]||(d[3]=l=>r.value=!1),class:L(["p-5 -m-5 drop-zone",{"pointer-events-none":!g(i)}])},[u("div",{class:L(["drop-preview",{"drop-preview-highlight":g(i),"drop-preview-dragover":g(i)&&r.value}])},null,2)],34))}});var ae=E(Jt,[["__scopeId","data-v-0994875c"]]);const Kt={class:"h-screen overflow-auto p-5 bg-gray-700 select-none"},Xt={class:"rendered-wrapper relative"},Zt=["onClick"],Yt={class:"relative z-0"},Qt=y({setup(e){const t=C(),n=t.state.components,i=t.getters.getMappings;function r(o){t.dispatch("deleteComponent",o)}return(o,s)=>(p(),c("div",Kt,[b(Me,{name:"wysi-components"},{default:M(()=>[(p(!0),c(I,null,k(g(n),(d,l)=>(p(),c("div",{key:d.id,class:"wysi-components-item"},[b(ae,{compIndex:l,class:"relative z-10"},null,8,["compIndex"]),u("div",Xt,[u("button",{class:"delete-component-button",onClick:h=>r(d.id)}," X ",8,Zt),u("div",Yt,[b(Gt,{comp:d,mappings:g(i)(d.id)},null,8,["comp","mappings"])])])]))),128))]),_:1}),b(ae,{compIndex:g(n).length,class:"relative z-10"},null,8,["compIndex"])]))}});var en=E(Qt,[["__scopeId","data-v-5da97506"]]);const tn={class:"grid fixed grid-cols-4 w-full font-sans text-gray-50"},nn={class:"flex justify-end"},pe=y({setup(e){const t=De(),n=C();let i=!1,r=q(!0);Ne(()=>{if(!i){const s=t.params.base64State;s&&(n.dispatch("loadBase64State",s),r.value=!1),i=!0}});function o(){const s=window.location.href.split("/#/")[0],d=n.getters.getBase64State;navigator.clipboard.writeText(`${s}/#/${d}`)}return z(()=>{n.dispatch("addApi","https://opendata.paris.fr/api/records/1.0/search/?dataset=que-faire-a-paris-&q=&facet=date_start&facet=date_end&facet=tags&facet=address_name&facet=address_zipcode&facet=address_city&facet=pmr&facet=blind&facet=deaf&facet=transport&facet=price_type&facet=access_type&facet=updated_at")}),(s,d)=>(p(),c("div",tn,[g(r)?(p(),A(Pt,{key:0})):S("",!0),u("div",{class:L(["bg-gray-700",g(r)?"col-span-2":"col-span-4"])},[u("div",nn,[u("button",{class:"px-2 m-1 rounded-full bg-stone-100 text-stone-800 font-medium",onClick:d[0]||(d[0]=l=>o())}," share ")]),b(en)],2),g(r)?(p(),A(ft,{key:1})):S("",!0)]))}}),rn=[{path:"/",component:pe},{path:"/:base64State",component:pe}],on=ke({history:qe(),routes:rn}),G=Fe(Te);G.use(on);G.use(re,ie);G.mount("#app");
